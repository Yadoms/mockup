@import '../_vars.less';

// cards
@import './cards/clock.less';
@import './cards/counter.less';
@import './cards/dimmer.less';
@import './cards/forecast.less';
@import './cards/gauge.less';
@import './cards/switch.less';
@import './cards/teleinfo-forecast.less';
@import './cards/thermometer.less';
@import './cards/wind.less';

#cards(@base_color, @front_color, @active_color, @primary_color, @highlight_color, @shadow_color, @text-shadow_color) {
  .card {
    border: 1px solid fadein(@active_color, 0.2);

    box-shadow: -6px -6px 16px fadein(@front_color, 0.83),
      6px 6px 16px fadein(@front_color, 0.51);

    #clock(@base_color, @front_color, @active_color, @primary_color, @highlight_color, @shadow_color, @text-shadow_color);
    #counter(@base_color, @front_color, @active_color, @primary_color, @highlight_color, @shadow_color, @text-shadow_color);
    #dimmer(@base_color, @front_color, @active_color, @primary_color, @highlight_color, @shadow_color, @text-shadow_color);
    #forecast(@base_color, @front_color, @active_color, @primary_color, @highlight_color, @shadow_color, @text-shadow_color);
    #gauge(@base_color, @front_color, @active_color, @primary_color, @highlight_color, @shadow_color, @text-shadow_color);
    #switch(@base_color, @front_color, @active_color, @primary_color, @highlight_color, @shadow_color, @text-shadow_color);
    #teleinfo-forecast(@base_color, @front_color, @active_color, @primary_color, @highlight_color, @shadow_color, @text-shadow_color);
    #thermometer(@base_color, @front_color, @active_color, @primary_color, @highlight_color, @shadow_color, @text-shadow_color);
    #wind(@base_color, @front_color, @active_color, @primary_color, @highlight_color, @shadow_color, @text-shadow_color);

    .card-title {
      border-top: 1px solid darken(@front_color, 10);

      &.no-border {
        border-top: none;
      }

      .icon {
        border-left: 1px solid darken(@front_color, 20);
      }
    }

    .cardSize(@size) {
      .card-width-@{size} {
        width: @size * @card_width + (@size - 1) * @card_spacingX;
      }

      .card-height-@{size} {
        height: @size * @card_height + (@size - 1) * @card_spacingY;
      }
    }

    .cardSize(1);
    .cardSize(2);
    .cardSize(3);
    .cardSize(4);
    .cardSize(5);

    &#ü§ñ {
      opacity: 1;
      border-color: #c53030;
      transition-duration: 0ms;
    }

    &.üëª {
      z-index: 99;
      opacity: 0.5;
      transition-duration: 0ms;
    }

    &.üèÑ {
      cursor: move;
      &::before {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: lighten(@base_color, 0.9);
        z-index: 50;
        opacity: 0.2;
        content: ' ';
      }
    }

    &.üìú {
      z-index: 10;
    }

    .üìê {
      display: none;
      position: absolute;
      bottom: -1px;
      right: -1px;
      z-index: 99;
      content: '';
      background: linear-gradient(
        135deg,
        @base_color,
        fadein(@active_color, 0.4),
        fadein(@active_color, 0.2)
      );
      width: 1rem;
      height: 1rem;
      cursor: se-resize;
      border-top-left-radius: 0.5rem;
      border-bottom-right-radius: 0.5rem;
    }

    .üóëÔ∏è {
      display: none;
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      z-index: 99;
      background-color: lighten(@base_color, 0.2);
      cursor: pointer;
      &::before {
        content: 'üóëÔ∏è';
        display: block;
      }
    }

    &:hover {
      z-index: 2;

      .card-title:hover {
        word-wrap: none;
        overflow: visible;
        text-overflow: none;
        width: auto;
      }

      &.üèÑ .üìê,
      &.üèÑ .üóëÔ∏è {
        display: block;
      }
    }
  }
}
